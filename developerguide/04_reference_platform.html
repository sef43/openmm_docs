
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>4. The Reference Platform &#8212; OpenMM Dev Guide c2d2539933259d85365b465b39e6c3113559e016 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. The CPU Platform" href="05_cpu_platform.html" />
    <link rel="prev" title="3. Writing Plugins" href="03_writing_plugins.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <style> .code {font-family:monospace;} </style>
<style> .caption {text-align:center;} </style><section id="the-reference-platform">
<span id="id1"></span><h1><span class="section-number">4. </span>The Reference Platform<a class="headerlink" href="#the-reference-platform" title="Permalink to this heading">¶</a></h1>
<p>The reference Platform is written with simplicity and clarity in mind, not
performance.  (It is still not always as simple or clear as one might hope, but
that is the goal.)  When implementing a new feature, it is recommended to create
the reference implementation first, then use that as a model for the versions in
other Platforms.</p>
<p>When using the reference Platform, the “platform-specific data” stored in
ContextImpl is of type ReferencePlatform::PlatformData, which is declared in
ReferencePlatform.h.  It has fields for storing positions, velocities, box
vectors, and other types of data.</p>
<p>The PlatformData’s vector of forces contains one element for each particle.  At
the start of each force evaluation, all elements of it are set to zero.  Each
Force adds its own contributions to the vector, so that at the end, it contains
the total force acting on each particle.</p>
<p>There are a few additional classes that contain useful static methods.
SimTKOpenMMUtilities has various utility functions, of which the most important
is a random number generator.  ReferenceForce provides methods for calculating
the displacement between two positions, optionally taking periodic boundary
conditions into account.</p>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="03_writing_plugins.html" title="Previous document"><span class="section-number">3. </span>Writing Plugins</a>
        </li>
        <li>
          <a href="05_cpu_platform.html" title="Next document"><span class="section-number">5. </span>The CPU Platform</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">OpenMM Dev Guide</h1>
    
  </a>
</p>










<script>
    function switchVersion(value) {
        newlink = value + "developerguide"
        location.href = newlink;
    }
</script>

<div class="extra-nav-links">
These docs are for <a href="https://github.com/openmm/openmm/tree/c2d2539933259d85365b465b39e6c3113559e016">OpenMM version 8.0.0.dev-c2d2539</a>
</div>
<div class="extra-nav-links">
You can change to a different version:
<select name="version" id="version_selector" onchange="switchVersion(this.value)">
    <option selected disabled>8.0.0.dev-c2d2539</option>
</select>
</div>

<script>
var selector = document.getElementById("version_selector");
// TODO: move hardcoded url to conf.py
fetch("https://sef43.github.io/openmm_docs/versions.json")
    .then((res) => {
      return res.json();
    })
    .then((data) => {
      data.forEach((entry) => {
        version=entry.version
        url=entry.url
        var option = document.createElement("option");
        option.value = url
        option.text = version
        selector.appendChild(option);
      })
    })
</script>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div class="navigation-scrollbox">
    <div class="nav-toctree">
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01_introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_core_library.html">2. The Core Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_writing_plugins.html">3. Writing Plugins</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. The Reference Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_cpu_platform.html">5. The CPU Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_opencl_platform.html">6. The OpenCL Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_cuda_platform.html">7. The CUDA Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_common_compute.html">8. Common Compute</a></li>
</ul>

    </div>
    
    <ul class="extra-nav-links">
        
        <li class="toctree-l1">
            <a href="https://openmm.org">
                OpenMM.org
            </a>
        </li>
        
        <li class="toctree-l1">
            <a href="../userguide/">
                User's Manual
            </a>
        </li>
        
        <li class="toctree-l1">
            <a href="../api-python/">
                Python API reference
            </a>
        </li>
        
        <li class="toctree-l1">
            <a href="../api-c++/">
                C++ API reference
            </a>
        </li>
        
        <li class="toctree-l1">
            <a href="https://github.com/openmm">
                GitHub
            </a>
        </li>
        
    </ul>
    
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011-2017, Stanford University.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.1.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/04_reference_platform.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>